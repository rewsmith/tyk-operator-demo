apiVersion: tyk.tyk.io/v1alpha1
kind: ApiDefinition
metadata:
  name: httpbin
spec:
  name: httpbin
  protocol: http
  active: true
  use_standard_auth: true
  proxy:
    target_url: http://httpbin.org
    listen_path: /httpbin
    strip_listen_path: true
---
apiVersion: tyk.tyk.io/v1alpha1
kind: SecurityPolicy
metadata:
  name: httpbin-pol
spec:
  active: true
  name: httpbin-pol
  state: active
  access_rights_array:
    - name: httpbin
      namespace: default
      versions:
        - Default
  rate: 10
  per: 60
---
apiVersion: tyk.tyk.io/v1alpha1
kind: APIDescription
metadata:
  name: standard-desc
spec:
  name: HTTPBIN API
  policyRef:
    name: httpbin-pol
  docs:
    doc_type: swagger
    documentation: "ewogICAgInN3YWdnZXIiOiAiMi4wIiwKICAgICJpbmZvIjogewogICAgICAgICJ0aXRsZSI6ICJodHRwYmluLm9yZyIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIkEgc2ltcGxlIEhUVFAgUmVxdWVzdCAmIFJlc3BvbnNlIFNlcnZpY2UuIiwKICAgICAgICAidmVyc2lvbiI6ICIxLjAiCiAgICB9LAogICAgImhvc3QiOiAiaHR0cGJpbi5vcmciLAogICAgInNjaGVtZXMiOiBbCiAgICAgICAgImh0dHAiLAogICAgICAgICJodHRwcyIKICAgIF0sCiAgICAicGF0aHMiOiB7CiAgICAgICAgIi9zdGF0dXMve2NvZGV9IjogewogICAgICAgICAgICAiZ2V0IjogewogICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlJldHVybnMgcHJvdmlkZWQgSFRUUCBTdGF0dXMgY29kZS4iLAogICAgICAgICAgICAgICAgIm9wZXJhdGlvbklkIjogIi9zdGF0dXMiLAogICAgICAgICAgICAgICAgInBhcmFtZXRlcnMiOiBbewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogImNvZGUiLAogICAgICAgICAgICAgICAgICAgICJpbiI6ICJwYXRoIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiSFRUUCBjb2RlIHRvIHJldHVybi4iLAogICAgICAgICAgICAgICAgICAgICJyZXF1aXJlZCI6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAibnVtYmVyIiwKICAgICAgICAgICAgICAgICAgICAiZGVmYXVsdCI6IDIwMCwKICAgICAgICAgICAgICAgICAgICAiZW51bSI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgMjAwCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjoge30KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIi9nZXQiOiB7CiAgICAgICAgICAgICJnZXQiOiB7CiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiUmV0dXJucyBHRVQgZGF0YS4iLAogICAgICAgICAgICAgICAgIm9wZXJhdGlvbklkIjogIi9nZXQiLAogICAgICAgICAgICAgICAgInJlc3BvbnNlcyI6IHt9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICIvcG9zdCI6IHsKICAgICAgICAgICAgInBvc3QiOiB7CiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiUmV0dXJucyBQT1NUIGRhdGEuIiwKICAgICAgICAgICAgICAgICJvcGVyYXRpb25JZCI6ICIvcG9zdCIsCiAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjoge30KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIi9wYXRjaCI6IHsKICAgICAgICAgICAgInBhdGNoIjogewogICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlJldHVybnMgUEFUQ0ggZGF0YS4iLAogICAgICAgICAgICAgICAgIm9wZXJhdGlvbklkIjogIi9wYXRjaCIsCiAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjoge30KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIi9wdXQiOiB7CiAgICAgICAgICAgICJwdXQiOiB7CiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiUmV0dXJucyBQVVQgZGF0YS4iLAogICAgICAgICAgICAgICAgIm9wZXJhdGlvbklkIjogIi9wdXQiLAogICAgICAgICAgICAgICAgInJlc3BvbnNlcyI6IHt9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICIvZGVsZXRlIjogewogICAgICAgICAgICAiZGVsZXRlIjogewogICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlJldHVybnMgREVMRVRFIGRhdGEuIiwKICAgICAgICAgICAgICAgICJvcGVyYXRpb25JZCI6ICIvZGVsZXRlIiwKICAgICAgICAgICAgICAgICJyZXNwb25zZXMiOiB7fQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiL3htbCI6IHsKICAgICAgICAgICAgImdldCI6IHsKICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJSZXR1cm5zIHNvbWUgWE1MLiIsCiAgICAgICAgICAgICAgICAib3BlcmF0aW9uSWQiOiAiL3htbCIsCiAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjoge30KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIi9pcCI6IHsKICAgICAgICAgICAgImdldCI6IHsKICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJSZXR1cm5zIG9yaWdpbiBJUC4iLAogICAgICAgICAgICAgICAgIm9wZXJhdGlvbklkIjogIi9pcCIsCiAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjoge30KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIi91c2VyLWFnZW50IjogewogICAgICAgICAgICAiZ2V0IjogewogICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlJldHVybnMgdXNlciBhZ2VudCBzdHJpbmcuIiwKICAgICAgICAgICAgICAgICJvcGVyYXRpb25JZCI6ICIvdXNlci1hZ2VudCIsCiAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjoge30KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIi9oZWFkZXJzIjogewogICAgICAgICAgICAiZ2V0IjogewogICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlJldHVybnMgaGVhZGVycyBkaWN0aW9uYXJ5LiIsCiAgICAgICAgICAgICAgICAib3BlcmF0aW9uSWQiOiAiL2hlYWRlcnMiLAogICAgICAgICAgICAgICAgInJlc3BvbnNlcyI6IHt9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICIvZGVsYXkve3NlY29uZHN9IjogewogICAgICAgICAgICAiZ2V0IjogewogICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkRlbGF5cyByZXNwb25kaW5nIGZvciBu4oCTMTAgc2Vjb25kcy4iLAogICAgICAgICAgICAgICAgIm9wZXJhdGlvbklkIjogIi9kZWxheSIsCiAgICAgICAgICAgICAgICAicGFyYW1ldGVycyI6IFt7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAic2Vjb25kcyIsCiAgICAgICAgICAgICAgICAgICAgImluIjogInBhdGgiLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICJyZXF1aXJlZCI6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAiZGVmYXVsdCI6IDIsCiAgICAgICAgICAgICAgICAgICAgImVudW0iOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIDIKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgICJyZXNwb25zZXMiOiB7fQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiL2NhY2hlL3ttYXhBZ2V9IjogewogICAgICAgICAgICAiZ2V0IjogewogICAgICAgICAgICAgICAgIm9wZXJhdGlvbklkIjogIi9jYWNoZSIsCiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2V0cyBhIENhY2hlLUNvbnRyb2wgaGVhZGVyIGZvciBuIHNlY29uZHMuIiwKICAgICAgICAgICAgICAgICJwYXJhbWV0ZXJzIjogW3sKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJtYXhBZ2UiLAogICAgICAgICAgICAgICAgICAgICJpbiI6ICJwYXRoIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAicmVxdWlyZWQiOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlZmF1bHQiOiAxMCwKICAgICAgICAgICAgICAgICAgICAiZW51bSI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgMTAKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgICJyZXNwb25zZXMiOiB7fQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiL3V1aWQiOiB7CiAgICAgICAgICAgICJnZXQiOiB7CiAgICAgICAgICAgICAgICAib3BlcmF0aW9uSWQiOiAiL3V1aWQiLAogICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlJldHVybnMgVVVJRDQuIiwKICAgICAgICAgICAgICAgICJyZXNwb25zZXMiOiB7fQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiL2FueXRoaW5nIjogewogICAgICAgICAgICAiZ2V0IjogewogICAgICAgICAgICAgICAgIm9wZXJhdGlvbklkIjogIi9hbnl0aGluZyIsCiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiUmV0dXJucyByZXF1ZXN0IGRhdGEsIGluY2x1ZGluZyBtZXRob2QgdXNlZC4iLAogICAgICAgICAgICAgICAgInJlc3BvbnNlcyI6IHt9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICIvZ3ppcCI6IHsKICAgICAgICAgICAgImdldCI6IHsKICAgICAgICAgICAgICAgICJvcGVyYXRpb25JZCI6ICIvZ3ppcCIsCiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiUmV0dXJucyBnemlwLWVuY29kZWQgZGF0YS4iLAogICAgICAgICAgICAgICAgInJlc3BvbnNlcyI6IHt9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICIvYmFzZTY0L3t2YWx1ZX0iOiB7CiAgICAgICAgICAgICJnZXQiOiB7CiAgICAgICAgICAgICAgICAib3BlcmF0aW9uSWQiOiAiL2Jhc2U2NCIsCiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiRGVjb2RlcyBiYXNlNjR1cmwtZW5jb2RlZCBzdHJpbmcuIiwKICAgICAgICAgICAgICAgICJwYXJhbWV0ZXJzIjogW3sKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJ2YWx1ZSIsCiAgICAgICAgICAgICAgICAgICAgImluIjogInBhdGgiLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJCYXNlNjQgZW5jb2RlZCBzdHJpbmcuIiwKICAgICAgICAgICAgICAgICAgICAicmVxdWlyZWQiOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlZmF1bHQiOiAiYUdWc2JHOGdkMjl5YkdRTkNnJTNEJTNEIgogICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjoge30KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIi9kZWZsYXRlIjogewogICAgICAgICAgICAiZ2V0IjogewogICAgICAgICAgICAgICAgIm9wZXJhdGlvbklkIjogIi9kZWZsYXRlIiwKICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJSZXR1cm5zIGRlZmxhdGUtZW5jb2RlZCBkYXRhLiIsCiAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjoge30KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIi9icm90bGkiOiB7CiAgICAgICAgICAgICJnZXQiOiB7CiAgICAgICAgICAgICAgICAib3BlcmF0aW9uSWQiOiAiL2Jyb3RsaSIsCiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiUmV0dXJucyBicm90bGktZW5jb2RlZCBkYXRhLiIsCiAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjoge30KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIi9yZXNwb25zZS1oZWFkZXJzIjogewogICAgICAgICAgICAiZ2V0IjogewogICAgICAgICAgICAgICAgIm9wZXJhdGlvbklkIjogIi9yZXNwb25zZS1oZWFkZXJzIiwKICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJSZXR1cm5zIGtleS12YWx1ZSBxdWVyeSBwYXJhbWV0ZXJzIGFzIHJlc3BvbnNlIGhlYWRlcnMuIiwKICAgICAgICAgICAgICAgICJyZXNwb25zZXMiOiB7fQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiL2J5dGVzL3tudW1iZXJ9IjogewogICAgICAgICAgICAiZ2V0IjogewogICAgICAgICAgICAgICAgIm9wZXJhdGlvbklkIjogIi9ieXRlcyIsCiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiR2VuZXJhdGVzIG4gcmFuZG9tIGJ5dGVzIG9mIGJpbmFyeSBkYXRhIiwKICAgICAgICAgICAgICAgICJwYXJhbWV0ZXJzIjogW3sKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJudW1iZXIiLAogICAgICAgICAgICAgICAgICAgICJpbiI6ICJwYXRoIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiTnVtYmVyIG9mIGJ5dGVzIHRvIHJldHVybi4iLAogICAgICAgICAgICAgICAgICAgICJyZXF1aXJlZCI6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAiZGVmYXVsdCI6ICIxMDI0IgogICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjoge30KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIi9yZWRpcmVjdC10byI6IHsKICAgICAgICAgICAgImdldCI6IHsKICAgICAgICAgICAgICAgICJvcGVyYXRpb25JZCI6ICIvcmVkaXJlY3QtdG8iLAogICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIjMwMiByZWRpcmVjdHMgdG8gYSBVUkwgcHJvdmlkZWQgaW4gcXVlcnkiLAogICAgICAgICAgICAgICAgInBhcmFtZXRlcnMiOiBbewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogInVybCIsCiAgICAgICAgICAgICAgICAgICAgImluIjogInF1ZXJ5IiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiUmVkaXJlY3QgdGFyZ2V0IiwKICAgICAgICAgICAgICAgICAgICAicmVxdWlyZWQiOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlZmF1bHQiOiAiaHR0cDovL2V4YW1wbGUuY29tIgogICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjoge30KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIi9zdHJlYW0ve251bWJlcn0iOiB7CiAgICAgICAgICAgICJnZXQiOiB7CiAgICAgICAgICAgICAgICAib3BlcmF0aW9uSWQiOiAiL3N0cmVhbSIsCiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiU3RyZWFtcyBtaW4obnVtYmVyLCAxMDApIGxpbmVzLiIsCiAgICAgICAgICAgICAgICAicGFyYW1ldGVycyI6IFt7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAibnVtYmVyIiwKICAgICAgICAgICAgICAgICAgICAiaW4iOiAicGF0aCIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIk51bWJlciBvZiBsaW5lcyB0byBzdHJlYW0uIiwKICAgICAgICAgICAgICAgICAgICAicmVxdWlyZWQiOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIm51bWJlciIsCiAgICAgICAgICAgICAgICAgICAgImRlZmF1bHQiOiAiMTAiCiAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgICJyZXNwb25zZXMiOiB7fQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg=="
  show: true
  version: v2
---
apiVersion: tyk.tyk.io/v1alpha1
kind: PortalAPICatalogue
metadata:
  name: catalog
spec:
  apis:
    - apiDescriptionRef:
        name: standard-desc